import random
from levels import levels

level = 0
playerSymbol = '@'  # –°–∏–º–≤–æ–ª –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
groundSymbol = '_'  # –°–∏–º–≤–æ–ª –ø–æ–ª–∞
wallSymbol = '#'  # –°–∏–º–≤–æ–ª —Å—Ç–µ–Ω—ã
mapSize = levels[0][0]   # –†–∞–∑–º–µ—Ä –∫–∞—Ä—Ç—ã
playerCoords = levels[0][1]   # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
wallCoords = levels[0][2]  # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—Ç–µ–Ω—ã
treasureCoords = levels[0][3]   # —Å–æ–∑–¥–∞–µ–º –∫–ª–∞–¥ –≤ —Å–ª—É—á–∞–π–Ω–æ–π —Ç–æ—á–∫–µ –Ω–∞ –∫–∞—Ä—Ç–µ

def drawMap():  # –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
    for y in range(mapSize[1]):
        for x in range(mapSize[0]):
            if [x,y] == playerCoords:   # –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
                print(playerSymbol, end='')
            elif [x, y] in wallCoords:  # –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–µ–Ω—ã
                print(wallSymbol, end='')
            else:   # –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–æ–ª–∞
                print(groundSymbol, end='')
        print()

drawMap()
while True:
    inputKey = input('–ö—É–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–≤–∏–≥–∞—Ç—å—Å—è (wasd) –∏–ª–∏ –∫–æ–ø–∞—Ç—å –∫–ª–∞–¥ (f): ')     # wasd —Å–∏–º–≤–æ–ª—ã –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è, f –¥–ª—è –∫–æ–ø–∞–Ω–∏—è
    if inputKey == 'w' and playerCoords[1] > 0:    # –ø—Ä–æ–≤–µ—Ä—è–º —Ö–æ—á–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –∏–¥—Ç–∏ –Ω–∞–≤–µ—Ä—Ö –∏ –Ω–µ –≤—ã–π–¥–µ—Ç –ª–∏ –æ–Ω –∑–∞ –ø–æ–ª–µ
        if not [playerCoords[0], playerCoords[1]-1] in wallCoords:  # –µ—Å—Ç—å –ª–∏ —Å–≤–µ—Ä—Ö—É —Å—Ç–µ–Ω–∞
            playerCoords[1] -= 1
    elif inputKey == 's' and playerCoords[1] < mapSize[1] - 1:
        if not [playerCoords[0], playerCoords[1] + 1] in wallCoords:  # –µ—Å—Ç—å –ª–∏ —Å–Ω–∏–∑—É —Å—Ç–µ–Ω–∞
            playerCoords[1] += 1
    elif inputKey == 'a' and playerCoords[0] > 0:
        if not [playerCoords[0] - 1, playerCoords[1]] in wallCoords:  # –µ—Å—Ç—å –ª–∏ —Å–ª–µ–≤–∞ —Å—Ç–µ–Ω–∞
            playerCoords[0] -= 1
    elif inputKey == 'd' and playerCoords[0] < mapSize[0] - 1:
        if not [playerCoords[0] + 1, playerCoords[1]] in wallCoords:  # –µ—Å—Ç—å –ª–∏ —Å–ø—Ä–∞–≤–∞ —Å—Ç–µ–Ω–∞
            playerCoords[0] += 1
    elif inputKey == 'f':   # –∫–æ–ø–∞–Ω–∏–µ –∫–ª–∞–¥–∞
        if playerCoords[0] == treasureCoords[0] and playerCoords[1] == treasureCoords[1]:   # –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–∏—Ç –ª–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂ –Ω–∞ –∫–ª–∞–¥–µ
            print('–í—ã –æ—Ç–∫–æ–ø–∞–ª–∏ –∫–ª–∞–¥! üòÑ')
            level += 1
            mapSize = levels[level][0]
            playerCoords = levels[level][1]
            wallCoords = levels[level][2]
            treasureCoords = levels[level][3]
        else:
            print('–¢—É—Ç –Ω–∏—á–µ–≥–æ –Ω–µ—Ç')
    print('------------------------------------------------------------')
    drawMap()   # –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–∞—Ä—Ç—É
